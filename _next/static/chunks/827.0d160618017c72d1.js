"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[827],{233:function(e,s,t){var n=t(85893);t(67294);var l=t(56929),a=t(9473);s.Z=e=>{let{children:s,className:t,onClick:i,onAuxClick:c,disabled:o,secondary:r,icon:d,title:m,backgroundColor:x,noPadding:h,label:u,hideTextOnMobile:p,disableRounded:v}=e,j=(0,a.v9)(e=>e.colors);return(0,n.jsx)("button",{"aria-label":u||"button",style:{backgroundColor:x||(r?j.foreground:j.active)},className:(0,l.W5)("transition-all select-none",[t,!v&&"rounded-full",o?"opacity-40 cursor-not-allowed":"hover:opacity-80 active:opacity-60",!h&&"px-2 sm:px-3 py-1 sm:py-2"]),onClick:o?void 0:i,onAuxClick:o?void 0:c,title:m,children:(0,n.jsxs)("div",{className:"flex items-center space-x-2 h-6",style:{minWidth:"1rem",minHeight:"1rem"},children:[d&&(0,n.jsx)("div",{className:"w-4 h-4",children:d}),s&&(0,n.jsx)("div",{className:(0,l.W5)("align-middle w-full text-sm sm:text-base",[p&&"hidden sm:block"]),children:s})]})})}},74496:function(e,s,t){var n=t(85893);t(67294);var l=t(56929),a=t(9473);s.Z=e=>{let{children:s,rootClassName:t,className:i,noPadding:c,onClick:o,onAuxClick:r,hover:d,noGradient:m,style:x}=e,h=(0,a.v9)(e=>e.colors);return(0,n.jsx)("div",{style:{backgroundColor:d?void 0:h.background},className:(0,l.W5)("transition-all rounded-lg",[t,d&&"bg-black hover:bg-white hover:bg-opacity-5"]),children:(0,n.jsx)("div",{onClick:o,onAuxClick:r,style:x||{background:m?void 0:"linear-gradient(240deg, ".concat(h.foreground,"FF 0%, ").concat(h.foreground,"30 20%, ").concat(h.foreground,"30 80%, ").concat(h.foreground,"FF 100%)")},className:(0,l.W5)("shadow-lg rounded-lg w-full h-full",[i,!c&&"p-2 sm:p-4"]),children:s})})}},2450:function(e,s,t){var n=t(85893),l=t(67294),a=t(56929);s.Z=e=>{let{className:s,copyValue:t,children:i}=e,[c,o]=(0,l.useState)(!1);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:(0,a.W5)("hidden sm:block text-xs font-mono text-center cursor-pointer relative",[s]),onClick:e=>{e.preventDefault(),e.stopPropagation(),o(!0);try{navigator.clipboard.writeText(t),setTimeout(()=>o(!1),500)}catch(e){o(!1)}},children:[c&&(0,n.jsx)("div",{className:(0,a.W5)("absolute w-full rounded h-full flex justify-center items-center transition-all bg-black select-none",[c?"bg-opacity-80":"bg-opacity-0 text-transparent"]),children:"Copied!"}),i]}),(0,n.jsx)("div",{className:(0,a.W5)("sm:hidden text-xs font-mono text-center relative",[s]),children:i})]})}},87137:function(e,s,t){var n=t(85893),l=t(25675),a=t.n(l);t(67294);var i=t(56929);s.Z=e=>{let{src:s,className:t,width:l,height:c,alt:o}=e;return(0,n.jsx)("div",{className:(0,i.W5)("relative select-none",[t]),children:(0,n.jsx)(a(),{src:s,className:t,fill:!(l&&c),width:l,height:c,alt:o})})}},8215:function(e,s,t){var n=t(85893);t(67294);var l=t(56929),a=t(87137);s.Z=e=>{let{loading:s,className:t,children:i,text:c}=e;return(0,n.jsxs)("div",{className:(0,l.W5)("relative",[t]),children:[s&&(0,n.jsx)("div",{className:"flex absolute top-0 bottom-0 justify-center z-30 items-center h-full w-full",children:c?(0,n.jsx)("span",{className:"animate-pulse font-bold select-none pointer-events-none",children:c}):(0,n.jsx)(a.Z,{src:"/assets/Vestige-0.svg",className:"w-3 h-3 sm:w-4 sm:h-4 animate-pulse",alt:"vestige"})}),(0,n.jsx)("div",{className:(0,l.W5)("w-full h-full",[s?"opacity-30":""]),children:i})]})}},95672:function(e,s,t){var n=t(85893);t(67294);var l=t(56929);s.Z=e=>{let{children:s,open:t,onClose:a}=e;return(0,n.jsx)("div",{style:{margin:0},className:(0,l.W5)("fixed left-0 top-0 flex justify-center w-full h-screen items-center bg-black transition-all p-8",[t?"bg-opacity-50 z-40":"bg-opacity-0 pointer-events-none"]),onClick:e=>{e.stopPropagation(),a&&a()},children:t&&(0,n.jsx)("div",{className:"relative",onClick:e=>e.stopPropagation(),children:s})})}},82827:function(e,s,t){t.r(s),t.d(s,{default:function(){return O}});var n=t(85893),l=t(67294),a=t(233),i=t(60155),c=t(43347),o=t(74496),r=t(87137),d=t(9473),m=t(44304),x=t(44135),h=t(56929),u=e=>{let{setModalOpen:s,closePopover:t,setConnector:l}=e,i=(0,d.v9)(e=>e.token),{providers:c}=(0,x.Os)(),u=e=>{(0,m.B)("connect_wallet_".concat(e),{category:"Wallet",label:e})},p=e=>{let{onClick:s,src:t,alt:l,backgroundColor:i,name:c,className:o}=e;return(0,n.jsx)(a.Z,{label:l,backgroundColor:i,onClick:s,children:(0,n.jsxs)("div",{className:(0,h.W5)("flex justify-start space-x-2 text-black items-center",[o]),children:[(0,n.jsx)("div",{className:"rounded-lg relative min-w-max",children:(0,n.jsx)(r.Z,{src:t,className:"rounded-lg h-6 w-6 sm:h-8 sm:w-8",alt:l})}),(0,n.jsx)("div",{className:"w-full text-center",children:(0,n.jsx)("b",{className:"text-sm font-prompt-bold",children:c})})]})})},v=e=>async()=>{u(e.metadata.id),l(e.metadata.name),t(),s(!0);try{await e.disconnect().catch()}finally{e.connect().catch()}},j={[x.et.DEFLY]:"#000",[x.et.PERA]:"#FFEE55",[x.et.MYALGO]:"#245EC6"},f={[x.et.DEFLY]:"text-white",[x.et.MYALGO]:"text-white"};return(0,n.jsxs)(o.Z,{rootClassName:"w-48 sm:w-52",className:"flex flex-col space-y-2",children:[null==c?void 0:c.map(e=>(0,n.jsx)(p,{name:e.metadata.name,backgroundColor:j[e.metadata.id]||"#FFF",className:f[e.metadata.id]||void 0,onClick:v(e),src:e.metadata.icon,alt:e.metadata.name},"provider-".concat(e.metadata.id))),(0,n.jsxs)("div",{className:"text-xs text-center opacity-60 py-1",children:["Use WalletConnect to connect with ",(0,n.jsx)("b",{children:"Fireblocks"})," and others"]}),!i&&(0,n.jsxs)("div",{className:"text-xs text-center opacity-60 py-1",children:["By connecting a wallet you accept our"," ",(0,n.jsx)("a",{className:"text-blue-400 hover:opacity-80 font-bold","aria-label":"tos",href:"https://about.vestige.fi/disclaimer/terms-of-service",target:"_blank",rel:"noreferrer",children:"ToS"})]}),i&&(0,n.jsx)("div",{className:"text-xs text-center opacity-60 py-1",children:"If adding wallet fails, you will be logged out"})]})},p=t(95672),v=t(8215),j=t(77441),f=t(7108),g=e=>{let{modalOpen:s,closeModal:t,connector:c}=e,r=(0,d.v9)(e=>e.token),[m,u]=(0,l.useState)(!1),{activeAccount:g,signTransactions:b}=(0,x.Os)();(0,l.useEffect)(()=>{s&&g&&N()},[g]);let N=async()=>{y({token:"",user:{name:g.name,private:!1,token_amount:0,liquidity_amount:0}}),t(),u(!1)},y=e=>{let s=(0,h.iB)(f.JE)||!1;(0,j.KF)("hideAds",!(2>(0,h.l0)(e.user))&&s),(0,j.Ze)(g.address,e.token,e.user),t(!1)};return(0,n.jsx)(p.Z,{open:s,onClose:t,children:(0,n.jsx)(v.Z,{loading:m,className:"bg-black",children:(0,n.jsx)(o.Z,{children:(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center p-2 space-y-4",children:[(null==g?void 0:g.address)?(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center space-y-1 text-center",children:[(0,n.jsxs)("div",{className:"text-lg",children:[r?"Adding another":"Connecting"," wallet with address:"]}),(0,n.jsx)("div",{className:"font-mono font-bold py-2 select-all break-all",children:g.address}),(0,n.jsx)("div",{children:"Please sign the transaction to confirm the ownership of this wallet."}),(0,n.jsxs)("div",{className:"text-sm opacity-60",children:["The transaction is never executed and therefore will not cost you any"," ",(0,n.jsx)("span",{className:"font-mono",children:"ALGO"}),"."]})]}):(0,n.jsxs)("div",{className:"text-center",children:["Please connect your wallet using ",(0,n.jsx)("b",{children:c}),"..."]}),(0,n.jsxs)("div",{className:"flex space-x-2",children:[(0,n.jsx)(a.Z,{secondary:!0,onClick:()=>t(),icon:(0,n.jsx)(i.bjh,{}),children:"Cancel"}),(null==g?void 0:g.address)&&(0,n.jsxs)(a.Z,{icon:(0,n.jsx)(i.pBC,{}),onClick:N,disabled:m,children:[(0,n.jsx)("span",{className:"hidden sm:block",children:"Sign transaction"}),(0,n.jsx)("span",{className:"sm:hidden",children:"Sign"})]})]})]})})})})},b=()=>{let e=(0,d.v9)(e=>e.user),s=(0,d.v9)(e=>e.colors);return(0,n.jsx)(c.Z,{on:"hover",toggleOnClick:!0,content:(0,n.jsxs)(o.Z,{className:"flex flex-col space-y-2",children:[(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsxs)("div",{children:["Liquidity provision is counted ",(0,n.jsx)("b",{children:"four times"})," towards token ownership."]})}),(0,n.jsxs)("div",{children:["Your tokens: ",(0,n.jsx)("b",{className:"font-mono",children:(0,h.dN)(Math.max(0,(null==e?void 0:e.token_amount)||0))})," ","in wallets and ",(0,n.jsx)("b",{className:"font-mono",children:(0,h.dN)((null==e?void 0:e.liquidity_amount)/4||0)})," in liquidity provision."]})]}),padding:8,children:(0,n.jsxs)("div",{style:{backgroundColor:s.foreground},className:"rounded-full flex px-3 py-1 sm:py-2 items-center space-x-1 bg-opacity-0 sm:bg-opacity-100 select-none",children:[(0,n.jsx)(r.Z,{src:"/assets/Vestige-0.svg",className:"w-3 h-3 sm:w-4 sm:h-4",alt:"vestige"}),(0,n.jsx)("div",{className:"font-mono font-bold",children:(0,h.dN)(Math.max(0,((null==e?void 0:e.token_amount)||0)+((null==e?void 0:e.liquidity_amount)||0)))})]})})},N=t(70734),y=t(11163),w=t.n(y),k=t(2450),C=t(41664),Z=t.n(C),F=t(79946),O=e=>{let{widget:s}=e,t=(0,d.v9)(e=>e.wallet),o=(0,d.v9)(e=>e.user),[r,m]=(0,l.useState)(!1),[x,p]=(0,l.useState)(!1),[v,j]=(0,l.useState)(""),[f,y]=(0,l.useState)(null),C=async()=>{s&&p(!1),m(!1),j("")},O=e=>{"reload"===e.data&&(0,F.z)(),f&&(f.close(),y(null))};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g,{modalOpen:r,connector:v,closeModal:C}),t?(0,n.jsxs)("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[!s&&(0,n.jsx)(b,{}),(0,n.jsx)("div",{className:"space-x-2 items-center hidden sm:flex",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)(Z(),{href:N.lO,prefetch:!1,children:(0,n.jsx)("div",{className:"font-prompt-bold cursor-pointer hover:opacity-80 transition-all overflow-hidden whitespace-nowrap",children:(0,h.Tl)((null==o?void 0:o.name)||t)})}),(0,n.jsx)(k.Z,{copyValue:t,children:(0,h.Tl)(t)})]})}),s?(0,n.jsxs)("div",{className:"text-center flex space-x-2 items-center sm:hidden",children:[(0,n.jsx)("div",{className:"font-prompt-bold cursor-pointer hover:opacity-80 transition-all overflow-hidden whitespace-nowrap",children:(0,h.Tl)((null==o?void 0:o.name)||t)}),(0,n.jsx)(k.Z,{copyValue:t,children:(0,h.Tl)(t)})]}):(0,n.jsx)(a.Z,{label:"wallet",className:"sm:hidden",icon:(0,n.jsx)(i.J4e,{}),onClick:()=>w().push(N.lO)})]}):s?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(a.Z,{label:"connect wallet",onClick:()=>{f&&(f.close(),y(null)),window.addEventListener("message",O,!1);let e=window.open("/widget/connect","_blank","width=400,height=800");y(e)},icon:(0,n.jsx)(i.Kau,{}),children:[(0,n.jsx)("span",{className:"hidden sm:block",children:"Connect wallet"}),(0,n.jsx)("span",{className:"sm:hidden",children:"Connect"})]})}):(0,n.jsx)(c.Z,{content:(0,n.jsx)(u,{setConnector:j,setModalOpen:m,closePopover:()=>p(!1)}),on:"click",isOpen:x,setIsOpen:p,padding:8,toggleOnClick:!0,children:(0,n.jsxs)(a.Z,{label:"connect wallet",icon:(0,n.jsx)(i.Kau,{}),children:[(0,n.jsx)("span",{className:"hidden sm:block",children:"Connect wallet"}),(0,n.jsx)("span",{className:"sm:hidden",children:"Connect"})]})})]})}},43347:function(e,s,t){var n=t(85893),l=t(67294),a=t(82106),i=t(56929);s.Z=e=>{let{isOpen:s,padding:t,setIsOpen:c,on:o,position:r,toggleOnClick:d,content:m,align:x,children:h}=e,u=(0,i.iP)(),p=u[0]<i.j$.md,[v,j]=(0,l.useState)(!1),f=e=>{e.stopPropagation(),c?c(!0):j(!0)},g=e=>{e.stopPropagation(),c?c(!1):j(!1)};return(0,n.jsx)(a.Popover,{onClickOutside:g,isOpen:void 0!==s?s:v,padding:t||2,positions:[r||"bottom"],containerClassName:"z-30",align:x,content:(0,n.jsx)(n.Fragment,{children:m}),children:(0,n.jsx)("div",{onClick:p||"click"===o?d?e=>{e.stopPropagation(),c?c(!s):j(!v)}:f:void 0,onPointerEnter:p||"hover"!==o?void 0:f,onPointerLeave:p||"hover"!==o?void 0:g,className:"min-w-max",children:h})})}}}]);